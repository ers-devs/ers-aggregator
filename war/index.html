<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <title>Entity Registry System</title>
  </head>

  <body>
    <h1>Entity Registry System (Cassandra and CumulusRDF as backend)</h1>

    <h2>Introduction</h2>
    <p>
      CumulusRDF is a Linked Data server built on <a href="http://cassandra.apache.org/">Apache Cassandra</a>.
      Applications can interface with CumulusRDF using a <a href="http://en.wikipedia.org/wiki/Representational_State_Transfer">REST</a> API, meaning that all operations are carried out over <a href="http://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol">HTTP</a>.
      More information at <a href="http://code.google.com/p/cumulusrdf/">http://code.google.com/p/cumulusrdf/</a>.
    </p>

    <h2>Basic Operations</h2>
    <h3>Create</h3>
    <p>
      You can create new entity via HTTP POST.
    </p>
    <p>
      <code>
	curl -v -X POST -H "Content-Type: application/x-www-form-urlencoded" --data "e=&#60;entity&#62;&amp;p=&#60;property&#62;&amp;v=&#60;value&#62;"  "http://diufpc304.unifr.ch:8080/ers/create"
      </code>
    </p>
    <form action="./create" method="post">
      Entity: <input name="e" size="30" value=""/>
      Property: <input name="p" size="30" value=""/>
      Value: <input name="v" size="30" value=""/>
      <input type="submit" value="Create"/>
    </form>

   <h3>Read (it returns also the back links)</h3>
    <p>
      You can access the contents of an object by performing a HTTP GET request.
    </p>
    <p>
      <code>
	curl -v -X GET http://localhost:8080/ers/read?e=&#60;entity&#62;
      </code>
    </p>
    <form action="./read" method="get">
      Entity <input name="e" size="30" value=""/>
      <input type="submit" value="Read"/>
    </form>

    <h3>Update</h3>
    <p>
      You can update old entity data via HTTP POST. You must pass old value as well. 
    </p>
    <p>
      <code>
	curl -v -X POST -H "Content-Type: application/x-www-form-urlencoded" --data "e=&#60;entity&#62;&amp;p=&#60;property&#62;&amp;v_old=&#60;value1&#62;&amp;v_new=&#60;value2&#62;"  "http://diufpc304.unifr.ch:8080/ers/update"
      </code>
    </p>
    <form action="./update" method="post">
      Entity: <input name="e" size="30" value=""/>
      Property: <input name="p" size="30" value=""/>
      Value old: <input name="v_old" size="30" value=""/>
      Value new: <input name="v_new" size="30" value=""/>
      <input type="submit" value="Update"/>
    </form>

    <h3>Delete</h3>
    <p>
      You can delete triples by performing a HTTP DELETE request sending the triples you want to delete.
    </p>
    <p>
      <code>
	curl -v -X DELETE  "http://diufpc304.unifr.ch:8080/ers/delete?e=&#60;entity&#62;&amp;p=&#60;property&#62;&amp;v_=&#60;value&#62;" 
      </code>
    </p>
    For the moment, it is required to send all 3 values for a deletion to succeed.
    <form action="./delete" method="post">
      Entity: <input name="e" size="30" value=""/>
      Property: <input name="p" size="30" value=""/>
      Value: <input name="v" size="30" value=""/>
      <input type="submit" value="Delete"/>
    </form>

    
    <h3>Query</h3>
    <p>
      You can evaluate triple patterns via performing a HTTP GET request supplying <code>e, p  and/or v</code> parameters (in N3 syntax).
    </p>
    <p>
      <code>
	curl -v -X GET "http://diufpc304.unifr.ch:8080/ers/query?e=&#60;entity&#62;&amp;p=&#60;property&#62;&amp;v_=&#60;value&#62;"
      </code>
    </p>

    <form action="./query" method="get">
      Entity: <input name="e" size="30" value=""/>
      Property: <input name="p" size="30" value=""/>
      Value: <input name="v" size="30"/>
      <input type="submit" value="Query"/>
    </form>

    <!--
    <h2>Additional Operations</h2>
    <h3>SPARQL Queries</h3>
    <p>
      We grudingly allow for <a href="http://en.wikipedia.org/wiki/SPARQL">SPARQL</a> queries, based on the <a href="http://openrdf.org/">Sesame</a> query processor (unoptimised).
    </p>

    <form action="./sparql">
      <dl>
	<dt>Query</dt>
	<dd>
	  <textarea cols="90" rows="12" name='query'>PREFIX xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt;
PREFIX rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt;
PREFIX rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#&gt;
PREFIX dc: &lt;http://purl.org/dc/elements/1.1/&gt;
PREFIX dct: &lt;http://purl.org/dc/terms/&gt;
PREFIX sioc: &lt;http://rdfs.org/sioc/ns#&gt;

SELECT * 
WHERE {
  ?o foaf:name "Andreas Harth" .
  ?p &lt;http://swrc.ontoware.org/ontology#author&gt; ?o .
}</textarea></dd>
	<dt>
	  Result format (alternatively, use an <a href="http://en.wikipedia.org/wiki/Content_negotiation">Accept header</a>)
	</dt>
	<dd>
	  <select name="accept">

      	    <option/>
	    <option value="text/plain">text/plain</option>
    	    <option value="text/csv">text/csv</option>	
    	    <option value="application/sparql-results+json">application/sparql-results+json</option>
	    <option value="application/sparql-results+xml">application/sparql-results+xml</option>
    	    <option value="application/rdf+xml">application/rdf+xml</option>
    	    <option value="application/x-turtle">application/x-turtle</option>
    	    <option value="application/n3">application/n3</option>
    	    <option value="text/nx">text/nx</option>
	  </select>
	</dd>
      </dl>
      <input type="submit"/>
    </form>

    <h3>Info</h3> 
    <p> 
      You can get status information at <a href="./info">/info</a>.
    </p>

    <h3>Dump</h3>
    <p>
      You can download all data currently stored at <a href="./dump">/dump</a>.
    </p>
    <hr/>
    <div>
      &#169; 2010-2012 <a href="http://www.aifb.kit.edu/web/G%C3%BCnter_Ladwig">G&#252;nter Ladwig</a>, <a href="http://harth.org/andreas/">Andreas Harth</a>.
    </div>
-->
  </body>
</html>
